{% extends 'base.html' %} {% block title %} 智能云医学影像分析平台 {% endblock %} {% block
head %}
<!-- 定义主页背景色的CSS样式 -->
<script src="../../static/js/waibu/image-compare-viewer.min.js"></script>
<script src="../../static/js/waibu/translate.js"></script>
<script src="../../static/js/waibu/scrollreveal.js"></script>
<script src="../../static/js/waibu/jquery.min.js"></script>
<script src="../../static/js/waibu/layui.js"></script>
<script src="../../static/js/waibu/editormd.js"></script>
<script src="../../static/js/waibu/layedit.js"></script>
<script src="../../static/js/bootsrap/bootstrap.bundle.min.js"></script>
<script src="../../static/js/waibu/particles.min.js"></script>
<script src="../../static/js/waibu/aos.js"></script>
<script src="../../static/js/other.js"></script>

<link rel="stylesheet" href="../static/css/waibu/image-compare-viewer.min.css">
<link href="../../static/css/waibu/layui.css" rel="stylesheet">
<link rel="stylesheet" href="../../static/css/waibu/jquery-scrollbar.css" />
<link rel="stylesheet" href="../../static/css/wangzhan.css" />
<link rel="stylesheet" href="../../static/css/bootstart/bootstrap.css" />
<link rel="stylesheet" href="../../static/css/bootstart/bootstrap.min.css" />
<link rel="stylesheet" href="../../static/css/bootstart/bootstrap-grid.css" />
<link rel="stylesheet" href="../../static/css/bootstart/bootstrap-grid.rtl.css" />
<link rel="stylesheet" href="../../static/css/bootstart/bootstrap-reboot.min.css" />
<link rel="stylesheet" href="../../static/css/bootstart/bootstrap-utilities.css" />
<link rel="stylesheet" href="../../static/css/waibu/aos.css" />
{% endblock %} {% block body%}
<div data-aos-easing="ease" data-aos-duration="2000" data-aos-delay="0" data-scroll-reveal id="myDiv">
    <nav class="navbar navbar-expand-lg navbar-transparent navbar-dark bg-dark py-4">
        <div class="container">
            <a class="h1 navbar-brand" href="{{url_for('root')}}" id="navname">智能云医学影像分析平台</a>
            <button class="navbar-light navbar-toggler collapsed btn btn-primary" type="button"
                data-bs-toggle="collapse" data-bs-target="#navbarsDefault" aria-expanded="false"
                aria-controls="navbarsDefault">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse offcanvas-collapse" id="navbarsDefault">
                <ul class="navbar-nav ml-auto align-items-lg-center">
                    <li class="nav-item">
                        <a href="{{url_for('datauploads.datauploads')}}" class="nav-link">上传数据</a>
                    </li>
                    <li class="breadcrumb-item" style="color: aliceblue;">></li>
                    <li class="nav-item">
                        <a href="#" style="pointer-events:none;"  class="nav-link">客观评价</a>
                    </li>
                    <li class="breadcrumb-item" style="color: aliceblue;">></li>
                    <li class="nav-item">
                        <a href="{{url_for('subjectivealls.subjectivealls')}}" class="nav-link">分享数据</a>
                    </li>
                    <li class="breadcrumb-item" style="color: aliceblue;">></li>
                    <li class="nav-item">
                        <a a href="#" style="pointer-events:none;"  class="nav-link">评估</a>
                    </li>
                    <li class="breadcrumb-item" style="color: aliceblue;">></li>
                    <li class="nav-item">
                        <a href="{{url_for('statistics.statistics')}}" class="nav-link">统计</a>
                    </li>
                    <li class="breadcrumb-item" style="color: aliceblue;">></li>
                    <li class="nav-item">
                        <a a href="#" style="pointer-events:none;"class="nav-link">主观评价</a>
                    </li>
                    <li class="nav-item">
                        <a href="{{url_for('teammates.teammates')}}" class="nav-link">团队</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" aria-haspopup="false"
                            aria-expanded="false">用户</a>
                        <ul class="dropdown-menu" style="min-width: 22px">
                            <li>
                                <a href="{{url_for('login.login')}}" class="dropdown-item">登录</a>
                            </li>
                            <li>
                                <a href="{{url_for('login.register')}}" class="dropdown-item">注册</a>
                            </li>
                            <li>
                                <a href="{{url_for('login.retrieve')}}" class="dropdown-item">找回</a>
                            </li>
                            <li>
                                <a href="/admin" class="dropdown-item">后台</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div id="translate" style="text-align: right;margin-right: 50px;margin-top: 30px;"></div>
    <div>
        <div class="form-check form-check-inline dropdown">
            <a class="dropdown-toggle btn bg-light" href="#" data-bs-toggle="dropdown" aria-haspopup="false"
                aria-expanded="false">抽样</a>
            <ul class="dropdown-menu" style="min-width: 22px">
                <li>
                    <a href="/datauploads/yiyi?slice=1&teamcode={{teamcode}}&filename={{filename}}&T={{T}}" class="dropdown-item">1</a>
                </li>
                <li>
                    <a href="/datauploads/yiyi?slice=2&teamcode={{teamcode}}&filename={{filename}}&T={{T}}" class="dropdown-item">2</a>
                </li>
                <li>
                    <a href="/datauploads/yiyi?slice=3&teamcode={{teamcode}}&filename={{filename}}&T={{T}}" class="dropdown-item">3</a>
                </li>
                <li>
                    <a href="/datauploads/yiyi?slice=4&teamcode={{teamcode}}&filename={{filename}}&T={{T}}" class="dropdown-item">4</a>
                </li>
                <li>
                <a href="/datauploads/yiyi?slice=5&teamcode={{teamcode}}&filename={{filename}}&T={{T}}" class="dropdown-item">5</a>
                </li>
                <li>
                    <a href="/datauploads/yiyi?slice=10&teamcode={{teamcode}}&filename={{filename}}&T={{T}}" class="dropdown-item">10</a>
                </li>
                <li>
                    <a href="/datauploads/yiyi?slice=15&teamcode={{teamcode}}&filename={{filename}}&T={{T}}" class="dropdown-item">15</a>
                </li>
                <li>
                    <a href="/datauploads/yiyi?slice=20&teamcode={{teamcode}}&filename={{filename}}&T={{T}}" class="dropdown-item">20</a>
                </li>
            </ul>
        </div>
    </div>
    <input hidden name="some" value="{{some}}">
    <div class="container" id="navname">
        <ul>
            {% for imgs in image_addresses %}
            <section class="pt-4 pb-3  aos-init">
                <table>
                    <tr>
                        {% for img,num,name in imgs %}
                        <td>
                            <li class="sl">
                                <div class="card">
                                    <div id="image-compare{{num}}">
                                        <img src='{{lastpath}}' style="height: 350px;width: 350px;" class="card-img-top"
                                            alt="...">
                                        <img src='{{img}}' style="height: 350px;width: 350px;" class="card-img-top"
                                            alt="...">
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text">{{name}}</p>
                                    </div>
                                </div>
                            </li>
                        </td>
                        <td>
                            <div style="width: 100px;"></div>
                        </td>
                        {% endfor %}
                    </tr>
                </table>
            </section>
            <div style="height: 100px;"></div>
            {% endfor %}
        </ul>
    </div>
    <div id="overlay">
        <div class="popup">
            <p class="popup_content">请由上传数据页面进入</p>
            <div class="popup_btn">
                <a type="button" class="confirmBtn" href="#" onclick="hiddenPopup()">确认</a>
            </div>
        </div>
    </div>
    <div id="overlaya">
        <div class="popup">
            <p class="popup_content">请由分享数据页面进入</p>
            <div class="popup_btn">
                <a type="button" class="confirmBtn" href="#" onclick="hiddenPopupa()">确认</a>
            </div>
        </div>
    </div>
    <div id="overlayb">
        <div class="popup">
            <p class="popup_content">请由统计页面进入</p>
            <div class="popup_btn">
                <a type="button" class="confirmBtn" href="#" onclick="hiddenPopupb()">确认</a>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    // const viewer = new ImageCompare(document.getElementById("image-compare0")).mount();
    // const viewer1 = new ImageCompare(document.getElementById("image-compare1")).mount();
    // const viewer2 = new ImageCompare(document.getElementById("image-compare2")).mount();
    
    let variables = {}; // 创建一个空对象来存储变量
    var leng=$('input[name="some"]').val();
    const options = {
        startingPoint: 0
    }
    for (let i = 0; i < leng; i++) {
        variables[`viewer${i}`] = new ImageCompare(document.getElementById(`image-compare${i}`), options).mount(); // 对象的键是变量名，值是变量的内容
    }

    function showPopup() {
        var overlaya = document.getElementById("overlay");
        overlaya.style.display = "block";
    }
    function showPopupa() {
        var overlayb = document.getElementById("overlaya");
        overlayb.style.display = "block";
    }
    function showPopupb() {
        var overlayc = document.getElementById("overlayb");
        overlayc.style.display = "block";
    }
    function hiddenPopup() {
        var overlaya = document.getElementById("overlay");
        overlaya.style.display = "none";
    }
    function hiddenPopupa() {
        var overlayb = document.getElementById("overlaya");
        overlayb.style.display = "none";
    }
    function hiddenPopupb() {
        var overlayc = document.getElementById("overlayb");
        overlayc.style.display = "none";
    }
    AOS.init();
    window.onload = function () {
        ScrollReveal().reveal('.sr', {
            reset: true, // 滚动鼠标时，动画开关
            origin: 'right', // 动画开始的方向
            duration: 2000, // 动画持续时间
            delay: 0, // 延迟
            distance: '150px',
            move: 0,
            rotate: { x: 0, y: 0, z: 0 }, // 过度到0的初始角度
            opacity: 0, // 初始透明度
            scale: 0.5, //缩放
            easing: 'cubic-bezier(0.6, 0.2, 0.2, 1)', // 缓动'ease', 'ease-in-out'，'linear'...
            // 回调函数
            beforeReveal: function (domEl) { },
            beforeReset: function (domEl) { },
            afterReveal: function (domEl) { },
            afterReset: function (domEl) { }
        });
        ScrollReveal().reveal('.sl', {
            reset: true, // 滚动鼠标时，动画开关
            origin: 'left', // 动画开始的方向
            duration: 2000, // 动画持续时间
            delay: 0, // 延迟
            distance: '150px',
            move: 0,
            rotate: { x: 0, y: 0, z: 0 }, // 过度到0的初始角度
            opacity: 0, // 初始透明度
            scale: 0, //缩放
            easing: 'cubic-bezier(0.6, 0.2, 0.2, 1)', // 缓动'ease', 'ease-in-out'，'linear'...
            // 回调函数
            beforeReveal: function (domEl) { },
            beforeReset: function (domEl) { },
            afterReveal: function (domEl) { },
            afterReset: function (domEl) { }
        });
    }
</script>
{% endblock %}